generator client {
  provider = "prisma-client-js"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Users {
  id       String  @id @default(uuid())
  nome     String
  email    String  @unique
  telefone String
  senha    String
  perfil   String?

  escolaId String?
  escola   Escola? @relation(fields: [escolaId], references: [id])

  sistemaId String?
  sistema   Sistema? @relation(fields: [sistemaId], references: [id])
}

model Escola {
  id String @id @default(uuid())

  nome        String
  endereco    String
  cidade      String
  estado      String
  cep         String
  telefone    String
  email       String
  diretor     String
  viceDiretor String
  Users       Users[]
}

model Sistema {
  id String @id @default(uuid())

  notificacoesEmail Boolean
  notificacoesApp   Boolean
  backupAutomatico  Boolean
  intervaloBackup   String
  logAcesso         Boolean
  Users             Users[]
}

model Turmas {
  id      String @id @default(uuid())
  nome    String @unique
  turma   String
  periodo String
}

model Equipamento {
  id            String   @id @default(cuid())
  tipo          String
  quantidade    Int
  numerosSerie  String[]
  professor     String
  turma         String
  dataRetirada  String
  horaRetirada  String
  status        String
  dataDevolucao String?
  horaDevolucao String?
  observacoes   String?
  assinatura    String?
}

model professores {
  id            String @id @default(uuid())
  nome          String
  escola        String
  telefone      String
  email         String?
  dataNascimento String?
}

model Advertencias {
  id          String @id @default(uuid())
  alunoNome   String
  turma       String
  motivo      String
  detalhes    String?
  data        String
  professor   String
  status      String
  assinatura  String?
}